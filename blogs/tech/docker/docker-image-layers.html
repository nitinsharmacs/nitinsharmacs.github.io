<!DOCTYPE html>
<html lang="en"><head><title>Docker Image Layers</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="Docker Image Layers"/><meta property="og:description" content="Deep dive into Docker Image Layers In my previous post Getting started with docker, I explained the basics of docker. In this post, we will be deep diving into docker image layers."/><meta property="og:image" content="https://nitinsharmacs.github.io/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../../../static/icon.png"/><meta name="description" content="Deep dive into Docker Image Layers In my previous post Getting started with docker, I explained the basics of docker. In this post, we will be deep diving into docker image layers."/><meta name="generator" content="Quartz"/><link href="../../../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../../../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../../../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="blogs/tech/docker/docker-image-layers"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h2 class="page-title"><a href="../../..">bitPhile</a></h2><div class="spacer mobile-only"></div><div class="search"><button class="search-button" id="search-button"><p>Search</p><svg role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title>Search</title><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></button><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><button class="darkmode" id="darkmode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve" aria-label="Dark mode"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve" aria-label="Light mode"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></button><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;blogs&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;blogs/tech&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;blogs/tech/docker&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;blogs/tech/programming&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;blogs/tech/programming/scala&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/book-reviews&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/browser-tabs&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/discussions&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/examples&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/exercises&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/first-order-logic&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/inference-engine&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/logic&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/propositional-logic&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/propositional-logic/rules-of-inference&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/symbols-and-thought&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/logics/terminology&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/operating-systems&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/operating-systems/file-system&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/operating-systems/memory-management&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/operating-systems/process&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/operating-systems/process/interprocess-communication&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/operating-systems/process/threads&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/radio-astronomy&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/radio-astronomy/deconvolution&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/radio-astronomy/imaging&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/radio-astronomy/imaging/1-spatial-frequency&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/radio-astronomy/imaging/2-sampling-and-psf&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/aws&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/conda&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/CPython&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/CPython/logging&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/CPython/python-bindings&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/dask&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/dask/notebooks&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/environment-modules&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/git&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/googleapis&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/jax&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/linux&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/matplotlib&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/numpy&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/numpy/notebook&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/numpy/polynomials&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/singularity&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/xarray&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;notes/tech/xarray-cuda&quot;,&quot;collapsed&quot;:true}]" aria-controls="explorer-content" aria-expanded="false"><h2>Explorer</h2><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="blogs"><button class="folder-button"><span class="folder-title">blogs</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="blogs"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="blogs/tech"><button class="folder-button"><span class="folder-title">tech</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="blogs/tech"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="blogs/tech/docker"><button class="folder-button"><span class="folder-title">docker</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="blogs/tech/docker"><li><a href="../../../blogs/tech/docker/docker-compose-todo-app" data-for="blogs/tech/docker/docker-compose-todo-app">Docker Compose Todo App</a></li><li><a href="../../../blogs/tech/docker/docker-image-layers" data-for="blogs/tech/docker/docker-image-layers">Docker Image Layers</a></li><li><a href="../../../blogs/tech/docker/docker-networking" data-for="blogs/tech/docker/docker-networking">Docker Networking - How does it work?</a></li><li><a href="../../../blogs/tech/docker/docker-volume" data-for="blogs/tech/docker/docker-volume">Docker Volume</a></li><li><a href="../../../blogs/tech/docker/docker-storage-driver" data-for="blogs/tech/docker/docker-storage-driver">docker-storage-driver</a></li><li><a href="../../../blogs/tech/docker/getting-started-with-docker" data-for="blogs/tech/docker/getting-started-with-docker">Getting Started With Docker</a></li><li><a href="../../../blogs/tech/docker/docker-compose" data-for="blogs/tech/docker/docker-compose">Introduction to Docker Compose</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="blogs/tech/programming"><button class="folder-button"><span class="folder-title">programming</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="blogs/tech/programming"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="blogs/tech/programming/scala"><button class="folder-button"><span class="folder-title">scala</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="blogs/tech/programming/scala"><li><a href="../../../blogs/tech/programming/scala/chat-app-in-scala-armeria" data-for="blogs/tech/programming/scala/chat-app-in-scala-armeria">Chat App in Scala Armeria</a></li></ul></div></li></ul></div></li></ul></div></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes"><button class="folder-button"><span class="folder-title">notes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/book-reviews"><button class="folder-button"><span class="folder-title">book-reviews</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/book-reviews"><li><a href="../../../notes/book-reviews/design-of-everyday-things" data-for="notes/book-reviews/design-of-everyday-things">design-of-everyday-things</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics"><button class="folder-button"><span class="folder-title">logics</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/browser-tabs"><button class="folder-button"><span class="folder-title">browser-tabs</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/browser-tabs"><li><a href="../../../notes/logics/browser-tabs/fol" data-for="notes/logics/browser-tabs/fol">fol</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/discussions"><button class="folder-button"><span class="folder-title">discussions</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/discussions"><li><a href="../../../notes/logics/discussions/kkr-meetings" data-for="notes/logics/discussions/kkr-meetings">kkr-meetings</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/examples"><button class="folder-button"><span class="folder-title">examples</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/examples"><li><a href="../../../notes/logics/examples/entailment-using-language-of-logic" data-for="notes/logics/examples/entailment-using-language-of-logic">entailment-using-language-of-logic</a></li><li><a href="../../../notes/logics/examples/proving-modus-ponens-resolution" data-for="notes/logics/examples/proving-modus-ponens-resolution">proving-modus-ponens-resolution</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/exercises"><button class="folder-button"><span class="folder-title">exercises</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/exercises"><li><a href="../../../notes/logics/exercises/convert-formula" data-for="notes/logics/exercises/convert-formula">convert-formula</a></li><li><a href="../../../notes/logics/exercises/find-tautology-of-formula" data-for="notes/logics/exercises/find-tautology-of-formula">find-tautology-of-formula</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/first-order-logic"><button class="folder-button"><span class="folder-title">first-order-logic</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/first-order-logic"><li><a href="../../../notes/logics/first-order-logic/first-order-logic" data-for="notes/logics/first-order-logic/first-order-logic">first-order-logic</a></li><li><a href="../../../notes/logics/first-order-logic/interpretation" data-for="notes/logics/first-order-logic/interpretation">interpretation</a></li><li><a href="../../../notes/logics/first-order-logic/quantifiers" data-for="notes/logics/first-order-logic/quantifiers">quantifiers</a></li><li><a href="../../../notes/logics/first-order-logic/rules-of-inference" data-for="notes/logics/first-order-logic/rules-of-inference">rules-of-inference</a></li><li><a href="../../../notes/logics/first-order-logic/rules-of-substitution" data-for="notes/logics/first-order-logic/rules-of-substitution">rules-of-substitution</a></li><li><a href="../../../notes/logics/first-order-logic/syntax" data-for="notes/logics/first-order-logic/syntax">syntax</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/inference-engine"><button class="folder-button"><span class="folder-title">inference-engine</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/inference-engine"><li><a href="../../../notes/logics/inference-engine/backward-chaining" data-for="notes/logics/inference-engine/backward-chaining">backward-chaining</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/logic"><button class="folder-button"><span class="folder-title">logic</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/logic"><li><a href="../../../notes/logics/logic/formal-logic" data-for="notes/logics/logic/formal-logic">formal-logic</a></li><li><a href="../../../notes/logics/logic/logic" data-for="notes/logics/logic/logic">logic</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/propositional-logic"><button class="folder-button"><span class="folder-title">propositional-logic</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/propositional-logic"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/propositional-logic/rules-of-inference"><button class="folder-button"><span class="folder-title">rules-of-inference</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/propositional-logic/rules-of-inference"><li><a href="../../../notes/logics/propositional-logic/rules-of-inference/abduction" data-for="notes/logics/propositional-logic/rules-of-inference/abduction">abduction</a></li><li><a href="../../../notes/logics/propositional-logic/rules-of-inference/modus-ponens" data-for="notes/logics/propositional-logic/rules-of-inference/modus-ponens">modus-ponens</a></li><li><a href="../../../notes/logics/propositional-logic/rules-of-inference/Modus-tollens" data-for="notes/logics/propositional-logic/rules-of-inference/Modus-tollens">Modus-tollens</a></li><li><a href="../../../notes/logics/propositional-logic/rules-of-inference/resolution-method" data-for="notes/logics/propositional-logic/rules-of-inference/resolution-method">resolution-method</a></li><li><a href="../../../notes/logics/propositional-logic/rules-of-inference/substitution" data-for="notes/logics/propositional-logic/rules-of-inference/substitution">substitution</a></li></ul></div></li><li><a href="../../../notes/logics/propositional-logic/ask" data-for="notes/logics/propositional-logic/ask">ask</a></li><li><a href="../../../notes/logics/propositional-logic/clausal-form" data-for="notes/logics/propositional-logic/clausal-form">clausal-form</a></li><li><a href="../../../notes/logics/propositional-logic/conditional-proofs" data-for="notes/logics/propositional-logic/conditional-proofs">conditional-proofs</a></li><li><a href="../../../notes/logics/propositional-logic/conditional-wff" data-for="notes/logics/propositional-logic/conditional-wff">conditional-wff</a></li><li><a href="../../../notes/logics/propositional-logic/contingency" data-for="notes/logics/propositional-logic/contingency">contingency</a></li><li><a href="../../../notes/logics/propositional-logic/contradiction" data-for="notes/logics/propositional-logic/contradiction">contradiction</a></li><li><a href="../../../notes/logics/propositional-logic/deduction-theorem" data-for="notes/logics/propositional-logic/deduction-theorem">deduction-theorem</a></li><li><a href="../../../notes/logics/propositional-logic/definite-clauses" data-for="notes/logics/propositional-logic/definite-clauses">definite-clauses</a></li><li><a href="../../../notes/logics/propositional-logic/direct-deductions" data-for="notes/logics/propositional-logic/direct-deductions">direct-deductions</a></li><li><a href="../../../notes/logics/propositional-logic/forward-reasoning" data-for="notes/logics/propositional-logic/forward-reasoning">forward-reasoning</a></li><li><a href="../../../notes/logics/propositional-logic/frege-axioms" data-for="notes/logics/propositional-logic/frege-axioms">frege-axioms</a></li><li><a href="../../../notes/logics/propositional-logic/horn-clauses" data-for="notes/logics/propositional-logic/horn-clauses">horn-clauses</a></li><li><a href="../../../notes/logics/propositional-logic/interpretation-function" data-for="notes/logics/propositional-logic/interpretation-function">interpretation-function</a></li><li><a href="../../../notes/logics/propositional-logic/limitations" data-for="notes/logics/propositional-logic/limitations">limitations</a></li><li><a href="../../../notes/logics/propositional-logic/model" data-for="notes/logics/propositional-logic/model">model</a></li><li><a href="../../../notes/logics/propositional-logic/model-checking" data-for="notes/logics/propositional-logic/model-checking">model-checking</a></li><li><a href="../../../notes/logics/propositional-logic/models" data-for="notes/logics/propositional-logic/models">models</a></li><li><a href="../../../notes/logics/propositional-logic/proof-by-contradiction" data-for="notes/logics/propositional-logic/proof-by-contradiction">proof-by-contradiction</a></li><li><a href="../../../notes/logics/propositional-logic/propositional-logic" data-for="notes/logics/propositional-logic/propositional-logic">propositional-logic</a></li><li><a href="../../../notes/logics/propositional-logic/propositional-logic-syntax" data-for="notes/logics/propositional-logic/propositional-logic-syntax">propositional-logic-syntax</a></li><li><a href="../../../notes/logics/propositional-logic/satisfiability" data-for="notes/logics/propositional-logic/satisfiability">satisfiability</a></li><li><a href="../../../notes/logics/propositional-logic/tableau-method" data-for="notes/logics/propositional-logic/tableau-method">tableau-method</a></li><li><a href="../../../notes/logics/propositional-logic/tell" data-for="notes/logics/propositional-logic/tell">tell</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/symbols-and-thought"><button class="folder-button"><span class="folder-title">symbols-and-thought</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/symbols-and-thought"><li><a href="../../../notes/logics/symbols-and-thought/reasoning" data-for="notes/logics/symbols-and-thought/reasoning">reasoning</a></li><li><a href="../../../notes/logics/symbols-and-thought/representation" data-for="notes/logics/symbols-and-thought/representation">representation</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/logics/terminology"><button class="folder-button"><span class="folder-title">terminology</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/logics/terminology"><li><a href="../../../notes/logics/terminology/antecedent-consequent" data-for="notes/logics/terminology/antecedent-consequent">antecedent-consequent</a></li><li><a href="../../../notes/logics/terminology/connectives" data-for="notes/logics/terminology/connectives">connectives</a></li><li><a href="../../../notes/logics/terminology/dag" data-for="notes/logics/terminology/dag">dag</a></li><li><a href="../../../notes/logics/terminology/entailment" data-for="notes/logics/terminology/entailment">entailment</a></li><li><a href="../../../notes/logics/terminology/premise" data-for="notes/logics/terminology/premise">premise</a></li><li><a href="../../../notes/logics/terminology/proof" data-for="notes/logics/terminology/proof">proof</a></li><li><a href="../../../notes/logics/terminology/proposition" data-for="notes/logics/terminology/proposition">proposition</a></li><li><a href="../../../notes/logics/terminology/soundness-and-completeness" data-for="notes/logics/terminology/soundness-and-completeness">soundness-and-completeness</a></li><li><a href="../../../notes/logics/terminology/tautology" data-for="notes/logics/terminology/tautology">tautology</a></li></ul></div></li><li><a href="../../../notes/logics/domain-reasoning" data-for="notes/logics/domain-reasoning">domain-reasoning</a></li><li><a href="../../../notes/logics/formal-language" data-for="notes/logics/formal-language">formal-language</a></li><li><a href="../../../notes/logics/hierarchies-of-structured-knowledge" data-for="notes/logics/hierarchies-of-structured-knowledge">hierarchies-of-structured-knowledge</a></li><li><a href="../../../notes/logics/introduction" data-for="notes/logics/introduction">introduction</a></li><li><a href="../../../notes/logics/left-sessions" data-for="notes/logics/left-sessions">left-sessions</a></li><li><a href="../../../notes/logics/logic-and-representation" data-for="notes/logics/logic-and-representation">logic-and-representation</a></li><li><a href="../../../notes/logics/new-note" data-for="notes/logics/new-note">new-note</a></li><li><a href="../../../notes/logics/potential-ideas" data-for="notes/logics/potential-ideas">potential-ideas</a></li><li><a href="../../../notes/logics/questions" data-for="notes/logics/questions">questions</a></li><li><a href="../../../notes/logics/syllogism" data-for="notes/logics/syllogism">syllogism</a></li><li><a href="../../../notes/logics/symbols" data-for="notes/logics/symbols">symbols</a></li><li><a href="../../../notes/logics/taxonomies" data-for="notes/logics/taxonomies">taxonomies</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/operating-systems"><button class="folder-button"><span class="folder-title">operating-systems</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/operating-systems"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/operating-systems/file-system"><button class="folder-button"><span class="folder-title">file-system</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/operating-systems/file-system"><li><a href="../../../notes/operating-systems/file-system/i-node" data-for="notes/operating-systems/file-system/i-node">i-node</a></li><li><a href="../../../notes/operating-systems/file-system/introduction" data-for="notes/operating-systems/file-system/introduction">introduction</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/operating-systems/memory-management"><button class="folder-button"><span class="folder-title">memory-management</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/operating-systems/memory-management"><li><a href="../../../notes/operating-systems/memory-management/page-fault" data-for="notes/operating-systems/memory-management/page-fault">page-fault</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/operating-systems/process"><button class="folder-button"><span class="folder-title">process</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/operating-systems/process"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/operating-systems/process/interprocess-communication"><button class="folder-button"><span class="folder-title">interprocess-communication</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/operating-systems/process/interprocess-communication"><li><a href="../../../notes/operating-systems/process/interprocess-communication/condition-variable" data-for="notes/operating-systems/process/interprocess-communication/condition-variable">condition-variable</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/for-later" data-for="notes/operating-systems/process/interprocess-communication/for-later">for-later</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/interprocess-communication" data-for="notes/operating-systems/process/interprocess-communication/interprocess-communication">interprocess-communication</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/message-passing" data-for="notes/operating-systems/process/interprocess-communication/message-passing">message-passing</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/monitors" data-for="notes/operating-systems/process/interprocess-communication/monitors">monitors</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/mutex" data-for="notes/operating-systems/process/interprocess-communication/mutex">mutex</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/mutual-exclusion" data-for="notes/operating-systems/process/interprocess-communication/mutual-exclusion">mutual-exclusion</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/producer-consumer-problem" data-for="notes/operating-systems/process/interprocess-communication/producer-consumer-problem">producer-consumer-problem</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/race-conditions" data-for="notes/operating-systems/process/interprocess-communication/race-conditions">race-conditions</a></li><li><a href="../../../notes/operating-systems/process/interprocess-communication/semaphores" data-for="notes/operating-systems/process/interprocess-communication/semaphores">semaphores</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/operating-systems/process/threads"><button class="folder-button"><span class="folder-title">threads</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/operating-systems/process/threads"><li><a href="../../../notes/operating-systems/process/threads/hybrid-implementation" data-for="notes/operating-systems/process/threads/hybrid-implementation">hybrid-implementation</a></li><li><a href="../../../notes/operating-systems/process/threads/implementations" data-for="notes/operating-systems/process/threads/implementations">implementations</a></li><li><a href="../../../notes/operating-systems/process/threads/kernel-space-threads" data-for="notes/operating-systems/process/threads/kernel-space-threads">kernel-space-threads</a></li><li><a href="../../../notes/operating-systems/process/threads/scheduler-activation" data-for="notes/operating-systems/process/threads/scheduler-activation">scheduler-activation</a></li><li><a href="../../../notes/operating-systems/process/threads/thread" data-for="notes/operating-systems/process/threads/thread">thread</a></li><li><a href="../../../notes/operating-systems/process/threads/user-space-threads" data-for="notes/operating-systems/process/threads/user-space-threads">user-space-threads</a></li></ul></div></li><li><a href="../../../notes/operating-systems/process/introduction" data-for="notes/operating-systems/process/introduction">introduction</a></li><li><a href="../../../notes/operating-systems/process/memory" data-for="notes/operating-systems/process/memory">memory</a></li><li><a href="../../../notes/operating-systems/process/process" data-for="notes/operating-systems/process/process">process</a></li><li><a href="../../../notes/operating-systems/process/process-creation" data-for="notes/operating-systems/process/process-creation">process-creation</a></li><li><a href="../../../notes/operating-systems/process/process-table" data-for="notes/operating-systems/process/process-table">process-table</a></li></ul></div></li><li><a href="../../../notes/operating-systems/architectures" data-for="notes/operating-systems/architectures">architectures</a></li><li><a href="../../../notes/operating-systems/history" data-for="notes/operating-systems/history">history</a></li><li><a href="../../../notes/operating-systems/input-output" data-for="notes/operating-systems/input-output">input-output</a></li><li><a href="../../../notes/operating-systems/modes" data-for="notes/operating-systems/modes">modes</a></li><li><a href="../../../notes/operating-systems/operating-system-types" data-for="notes/operating-systems/operating-system-types">operating-system-types</a></li><li><a href="../../../notes/operating-systems/operating-systems" data-for="notes/operating-systems/operating-systems">operating-systems</a></li><li><a href="../../../notes/operating-systems/registers" data-for="notes/operating-systems/registers">registers</a></li><li><a href="../../../notes/operating-systems/resource-multiplexing" data-for="notes/operating-systems/resource-multiplexing">resource-multiplexing</a></li><li><a href="../../../notes/operating-systems/system-calls" data-for="notes/operating-systems/system-calls">system-calls</a></li><li><a href="../../../notes/operating-systems/users-and-groups" data-for="notes/operating-systems/users-and-groups">users-and-groups</a></li><li><a href="../../../notes/operating-systems/what-is-os" data-for="notes/operating-systems/what-is-os">what-is-os</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/radio-astronomy"><button class="folder-button"><span class="folder-title">radio-astronomy</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/radio-astronomy"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/radio-astronomy/deconvolution"><button class="folder-button"><span class="folder-title">deconvolution</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/radio-astronomy/deconvolution"><li><a href="../../../notes/radio-astronomy/deconvolution/casa-deconvolution" data-for="notes/radio-astronomy/deconvolution/casa-deconvolution">casa-deconvolution</a></li><li><a href="../../../notes/radio-astronomy/deconvolution/clean-algorithms" data-for="notes/radio-astronomy/deconvolution/clean-algorithms">clean-algorithms</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/radio-astronomy/imaging"><button class="folder-button"><span class="folder-title">imaging</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/radio-astronomy/imaging"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/radio-astronomy/imaging/1-spatial-frequency"><button class="folder-button"><span class="folder-title">1-spatial-frequency</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/radio-astronomy/imaging/1-spatial-frequency"><li><a href="../../../notes/radio-astronomy/imaging/1-spatial-frequency/spatial-frequency" data-for="notes/radio-astronomy/imaging/1-spatial-frequency/spatial-frequency">spatial-frequency</a></li><li><a href="../../../notes/radio-astronomy/imaging/1-spatial-frequency/spatial-frequency-notebook" data-for="notes/radio-astronomy/imaging/1-spatial-frequency/spatial-frequency-notebook">spatial-frequency-notebook</a></li><li><a href="../../../notes/radio-astronomy/imaging/1-spatial-frequency/tutorial" data-for="notes/radio-astronomy/imaging/1-spatial-frequency/tutorial">tutorial</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/radio-astronomy/imaging/2-sampling-and-psf"><button class="folder-button"><span class="folder-title">2-sampling-and-psf</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/radio-astronomy/imaging/2-sampling-and-psf"><li><a href="../../../notes/radio-astronomy/imaging/2-sampling-and-psf/sampling-and-psf" data-for="notes/radio-astronomy/imaging/2-sampling-and-psf/sampling-and-psf">sampling-and-psf</a></li></ul></div></li></ul></div></li><li><a href="../../../notes/radio-astronomy/dirty-image" data-for="notes/radio-astronomy/dirty-image">dirty-image</a></li><li><a href="../../../notes/radio-astronomy/dumps" data-for="notes/radio-astronomy/dumps">dumps</a></li><li><a href="../../../notes/radio-astronomy/model-prediction" data-for="notes/radio-astronomy/model-prediction">model-prediction</a></li><li><a href="../../../notes/radio-astronomy/radio-imaging-hands-on" data-for="notes/radio-astronomy/radio-imaging-hands-on">radio-imaging-hands-on</a></li><li><a href="../../../notes/radio-astronomy/session-calibration" data-for="notes/radio-astronomy/session-calibration">session-calibration</a></li><li><a href="../../../notes/radio-astronomy/terminology" data-for="notes/radio-astronomy/terminology">terminology</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech"><button class="folder-button"><span class="folder-title">tech</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/aws"><button class="folder-button"><span class="folder-title">aws</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/aws"><li><a href="../../../notes/tech/aws/aws-cli-setup-sso" data-for="notes/tech/aws/aws-cli-setup-sso">aws-cli-setup-sso</a></li><li><a href="../../../notes/tech/aws/email-notification-lambda" data-for="notes/tech/aws/email-notification-lambda">email-notification-lambda</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/conda"><button class="folder-button"><span class="folder-title">conda</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/conda"><li><a href="../../../notes/tech/conda/export" data-for="notes/tech/conda/export">export</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/CPython"><button class="folder-button"><span class="folder-title">CPython</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/CPython"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/CPython/logging"><button class="folder-button"><span class="folder-title">logging</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/CPython/logging"><li><a href="../../../notes/tech/CPython/logging/basicConfig" data-for="notes/tech/CPython/logging/basicConfig">basicConfig</a></li><li><a href="../../../notes/tech/CPython/logging/logrecord-attributes" data-for="notes/tech/CPython/logging/logrecord-attributes">logrecord-attributes</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/CPython/python-bindings"><button class="folder-button"><span class="folder-title">python-bindings</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/CPython/python-bindings"><li><a href="../../../notes/tech/CPython/python-bindings/marshalling" data-for="notes/tech/CPython/python-bindings/marshalling">marshalling</a></li><li><a href="../../../notes/tech/CPython/python-bindings/using-ctype" data-for="notes/tech/CPython/python-bindings/using-ctype">using-ctype</a></li></ul></div></li><li><a href="../../../notes/tech/CPython/Asyc-Server" data-for="notes/tech/CPython/Asyc-Server">Asyc Server</a></li><li><a href="../../../notes/tech/CPython/Async-IO" data-for="notes/tech/CPython/Async-IO">Async IO</a></li><li><a href="../../../notes/tech/CPython/asyncio" data-for="notes/tech/CPython/asyncio">asyncio</a></li><li><a href="../../../notes/tech/CPython/dis" data-for="notes/tech/CPython/dis">dis</a></li><li><a href="../../../notes/tech/CPython/event-loop" data-for="notes/tech/CPython/event-loop">event-loop</a></li><li><a href="../../../notes/tech/CPython/executor" data-for="notes/tech/CPython/executor">executor</a></li><li><a href="../../../notes/tech/CPython/generators" data-for="notes/tech/CPython/generators">generators</a></li><li><a href="../../../notes/tech/CPython/gil" data-for="notes/tech/CPython/gil">gil</a></li><li><a href="../../../notes/tech/CPython/interned-objects" data-for="notes/tech/CPython/interned-objects">interned-objects</a></li><li><a href="../../../notes/tech/CPython/itertools" data-for="notes/tech/CPython/itertools">itertools</a></li><li><a href="../../../notes/tech/CPython/memory-management" data-for="notes/tech/CPython/memory-management">memory-management</a></li><li><a href="../../../notes/tech/CPython/multi-threading" data-for="notes/tech/CPython/multi-threading">multi-threading</a></li><li><a href="../../../notes/tech/CPython/mutex-lock" data-for="notes/tech/CPython/mutex-lock">mutex-lock</a></li><li><a href="../../../notes/tech/CPython/names-not-variables" data-for="notes/tech/CPython/names-not-variables">names-not-variables</a></li><li><a href="../../../notes/tech/CPython/opencv-python" data-for="notes/tech/CPython/opencv-python">opencv-python</a></li><li><a href="../../../notes/tech/CPython/package" data-for="notes/tech/CPython/package">package</a></li><li><a href="../../../notes/tech/CPython/Pandas" data-for="notes/tech/CPython/Pandas">Pandas</a></li><li><a href="../../../notes/tech/CPython/pickle" data-for="notes/tech/CPython/pickle">pickle</a></li><li><a href="../../../notes/tech/CPython/poetry" data-for="notes/tech/CPython/poetry">poetry</a></li><li><a href="../../../notes/tech/CPython/pyobject" data-for="notes/tech/CPython/pyobject">pyobject</a></li><li><a href="../../../notes/tech/CPython/Python" data-for="notes/tech/CPython/Python">Python</a></li><li><a href="../../../notes/tech/CPython/python-loops" data-for="notes/tech/CPython/python-loops">python-loops</a></li><li><a href="../../../notes/tech/CPython/re" data-for="notes/tech/CPython/re">re</a></li><li><a href="../../../notes/tech/CPython/References" data-for="notes/tech/CPython/References">References</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/dask"><button class="folder-button"><span class="folder-title">dask</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/dask"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/dask/notebooks"><button class="folder-button"><span class="folder-title">notebooks</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/dask/notebooks"><li><a href="../../../notes/tech/dask/notebooks/chunks" data-for="notes/tech/dask/notebooks/chunks">chunks</a></li><li><a href="../../../notes/tech/dask/notebooks/delayed" data-for="notes/tech/dask/notebooks/delayed">delayed</a></li><li><a href="../../../notes/tech/dask/notebooks/internal-design" data-for="notes/tech/dask/notebooks/internal-design">internal-design</a></li></ul></div></li><li><a href="../../../notes/tech/dask/chunks" data-for="notes/tech/dask/chunks">chunks</a></li><li><a href="../../../notes/tech/dask/client" data-for="notes/tech/dask/client">client</a></li><li><a href="../../../notes/tech/dask/compute-function" data-for="notes/tech/dask/compute-function">compute-function</a></li><li><a href="../../../notes/tech/dask/dask-delayed" data-for="notes/tech/dask/dask-delayed">dask-delayed</a></li><li><a href="../../../notes/tech/dask/dask-graph" data-for="notes/tech/dask/dask-graph">dask-graph</a></li><li><a href="../../../notes/tech/dask/dask-so-far" data-for="notes/tech/dask/dask-so-far">dask-so-far</a></li><li><a href="../../../notes/tech/dask/get-method" data-for="notes/tech/dask/get-method">get-method</a></li><li><a href="../../../notes/tech/dask/local-cluster" data-for="notes/tech/dask/local-cluster">local-cluster</a></li><li><a href="../../../notes/tech/dask/map-blocks" data-for="notes/tech/dask/map-blocks">map-blocks</a></li><li><a href="../../../notes/tech/dask/rechunk" data-for="notes/tech/dask/rechunk">rechunk</a></li><li><a href="../../../notes/tech/dask/reshape" data-for="notes/tech/dask/reshape">reshape</a></li><li><a href="../../../notes/tech/dask/scheduler" data-for="notes/tech/dask/scheduler">scheduler</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/environment-modules"><button class="folder-button"><span class="folder-title">environment-modules</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/environment-modules"><li><a href="../../../notes/tech/environment-modules/modules" data-for="notes/tech/environment-modules/modules">modules</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/git"><button class="folder-button"><span class="folder-title">git</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/git"><li><a href="../../../notes/tech/git/gitlab-ci" data-for="notes/tech/git/gitlab-ci">gitlab-ci</a></li><li><a href="../../../notes/tech/git/setup-ssh-with-gitlab" data-for="notes/tech/git/setup-ssh-with-gitlab">setup-ssh-with-gitlab</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/googleapis"><button class="folder-button"><span class="folder-title">googleapis</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/googleapis"><li><a href="../../../notes/tech/googleapis/delete-rows" data-for="notes/tech/googleapis/delete-rows">delete-rows</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/jax"><button class="folder-button"><span class="folder-title">jax</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/jax"><li><a href="../../../notes/tech/jax/jax" data-for="notes/tech/jax/jax">jax</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/linux"><button class="folder-button"><span class="folder-title">linux</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/linux"><li><a href="../../../notes/tech/linux/accessing-usb-drives" data-for="notes/tech/linux/accessing-usb-drives">accessing-usb-drives</a></li><li><a href="../../../notes/tech/linux/automount-drives" data-for="notes/tech/linux/automount-drives">automount-drives</a></li><li><a href="../../../notes/tech/linux/resources" data-for="notes/tech/linux/resources">resources</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/matplotlib"><button class="folder-button"><span class="folder-title">matplotlib</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/matplotlib"><li><a href="../../../notes/tech/matplotlib/dump" data-for="notes/tech/matplotlib/dump">dump</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/numpy"><button class="folder-button"><span class="folder-title">numpy</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/numpy"><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/numpy/notebook"><button class="folder-button"><span class="folder-title">notebook</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/numpy/notebook"><li><a href="../../../notes/tech/numpy/notebook/grids-in-numpy" data-for="notes/tech/numpy/notebook/grids-in-numpy">grids-in-numpy</a></li><li><a href="../../../notes/tech/numpy/notebook/numpy.polynomials" data-for="notes/tech/numpy/notebook/numpy.polynomials">numpy.polynomials</a></li><li><a href="../../../notes/tech/numpy/notebook/polyfit" data-for="notes/tech/numpy/notebook/polyfit">polyfit</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/numpy/polynomials"><button class="folder-button"><span class="folder-title">polynomials</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/numpy/polynomials"><li><a href="../../../notes/tech/numpy/polynomials/poly1d" data-for="notes/tech/numpy/polynomials/poly1d">poly1d</a></li><li><a href="../../../notes/tech/numpy/polynomials/polyfit" data-for="notes/tech/numpy/polynomials/polyfit">polyfit</a></li></ul></div></li><li><a href="../../../notes/tech/numpy/array-interface" data-for="notes/tech/numpy/array-interface">array-interface</a></li><li><a href="../../../notes/tech/numpy/broadcasting" data-for="notes/tech/numpy/broadcasting">broadcasting</a></li><li><a href="../../../notes/tech/numpy/comparisons" data-for="notes/tech/numpy/comparisons">comparisons</a></li><li><a href="../../../notes/tech/numpy/datatype-sizes" data-for="notes/tech/numpy/datatype-sizes">datatype-sizes</a></li><li><a href="../../../notes/tech/numpy/datatypes" data-for="notes/tech/numpy/datatypes">datatypes</a></li><li><a href="../../../notes/tech/numpy/fancy-indexing" data-for="notes/tech/numpy/fancy-indexing">fancy-indexing</a></li><li><a href="../../../notes/tech/numpy/flatting" data-for="notes/tech/numpy/flatting">flatting</a></li><li><a href="../../../notes/tech/numpy/indexing" data-for="notes/tech/numpy/indexing">indexing</a></li><li><a href="../../../notes/tech/numpy/internal-organization" data-for="notes/tech/numpy/internal-organization">internal-organization</a></li><li><a href="../../../notes/tech/numpy/interoperability" data-for="notes/tech/numpy/interoperability">interoperability</a></li><li><a href="../../../notes/tech/numpy/interp" data-for="notes/tech/numpy/interp">interp</a></li><li><a href="../../../notes/tech/numpy/masked-arrays" data-for="notes/tech/numpy/masked-arrays">masked-arrays</a></li><li><a href="../../../notes/tech/numpy/meshgrid" data-for="notes/tech/numpy/meshgrid">meshgrid</a></li><li><a href="../../../notes/tech/numpy/mgrid" data-for="notes/tech/numpy/mgrid">mgrid</a></li><li><a href="../../../notes/tech/numpy/ndarray-block-of-memory" data-for="notes/tech/numpy/ndarray-block-of-memory">ndarray-block-of-memory</a></li><li><a href="../../../notes/tech/numpy/newaxis" data-for="notes/tech/numpy/newaxis">newaxis</a></li><li><a href="../../../notes/tech/numpy/numpy-flags" data-for="notes/tech/numpy/numpy-flags">numpy-flags</a></li><li><a href="../../../notes/tech/numpy/numpy-log" data-for="notes/tech/numpy/numpy-log">numpy-log</a></li><li><a href="../../../notes/tech/numpy/ogrid" data-for="notes/tech/numpy/ogrid">ogrid</a></li><li><a href="../../../notes/tech/numpy/pad" data-for="notes/tech/numpy/pad">pad</a></li><li><a href="../../../notes/tech/numpy/see-also" data-for="notes/tech/numpy/see-also">see-also</a></li><li><a href="../../../notes/tech/numpy/slicing" data-for="notes/tech/numpy/slicing">slicing</a></li><li><a href="../../../notes/tech/numpy/strides" data-for="notes/tech/numpy/strides">strides</a></li><li><a href="../../../notes/tech/numpy/transpose" data-for="notes/tech/numpy/transpose">transpose</a></li><li><a href="../../../notes/tech/numpy/vectorize" data-for="notes/tech/numpy/vectorize">vectorize</a></li><li><a href="../../../notes/tech/numpy/view" data-for="notes/tech/numpy/view">view</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/singularity"><button class="folder-button"><span class="folder-title">singularity</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/singularity"><li><a href="../../../notes/tech/singularity/container-fs" data-for="notes/tech/singularity/container-fs">container-fs</a></li><li><a href="../../../notes/tech/singularity/definition-file-sections" data-for="notes/tech/singularity/definition-file-sections">definition-file-sections</a></li><li><a href="../../../notes/tech/singularity/defintion-file-header" data-for="notes/tech/singularity/defintion-file-header">defintion-file-header</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/xarray"><button class="folder-button"><span class="folder-title">xarray</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/xarray"><li><a href="../../../notes/tech/xarray/apply_ufunc" data-for="notes/tech/xarray/apply_ufunc">apply_ufunc</a></li><li><a href="../../../notes/tech/xarray/apply_ufunc-dask" data-for="notes/tech/xarray/apply_ufunc-dask">apply_ufunc-dask</a></li><li><a href="../../../notes/tech/xarray/apply_ufunc-dask-vectorize" data-for="notes/tech/xarray/apply_ufunc-dask-vectorize">apply_ufunc-dask-vectorize</a></li><li><a href="../../../notes/tech/xarray/core-dimensions" data-for="notes/tech/xarray/core-dimensions">core-dimensions</a></li><li><a href="../../../notes/tech/xarray/loop-dimensions" data-for="notes/tech/xarray/loop-dimensions">loop-dimensions</a></li><li><a href="../../../notes/tech/xarray/map_blocks" data-for="notes/tech/xarray/map_blocks">map_blocks</a></li><li><a href="../../../notes/tech/xarray/xarray-so-far" data-for="notes/tech/xarray/xarray-so-far">xarray-so-far</a></li><li><a href="../../../notes/tech/xarray/xarray-with-dask" data-for="notes/tech/xarray/xarray-with-dask">xarray-with-dask</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="notes/tech/xarray-cuda"><button class="folder-button"><span class="folder-title">xarray-cuda</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="notes/tech/xarray-cuda"><li><a href="../../../notes/tech/xarray-cuda/xarray-cuda" data-for="notes/tech/xarray-cuda/xarray-cuda">xarray-cuda</a></li></ul></div></li><li><a href="../../../notes/tech/elk-stack" data-for="notes/tech/elk-stack">elk-stack</a></li></ul></div></li></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../../../">Home</a><p>  </p></div><div class="breadcrumb-element"><a href="../../../blogs/">blogs</a><p>  </p></div><div class="breadcrumb-element"><a href="../../../blogs/tech/">tech</a><p>  </p></div><div class="breadcrumb-element"><a href="../../../blogs/tech/docker/">docker</a><p>  </p></div><div class="breadcrumb-element"><a href>Docker Image Layers</a></div></nav><h1 class="article-title">Docker Image Layers</h1><p show-comma="true" class="content-meta"><span>Mar 05, 2023</span><span>7 min read</span></p><ul class="tags"><li><a href="../../../tags/docker" class="internal tag-link">docker</a></li><li><a href="../../../tags/infra" class="internal tag-link">infra</a></li><li><a href="../../../tags/kubernetes" class="internal tag-link">kubernetes</a></li><li><a href="../../../tags/docker-image" class="internal tag-link">docker-image</a></li><li><a href="../../../tags/image-layers" class="internal tag-link">image-layers</a></li><li><a href="../../../tags/image" class="internal tag-link">image</a></li></ul></div></div><article class="popover-hint"><h1 id="deep-dive-into-docker-image-layers">Deep dive into Docker Image Layers<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#deep-dive-into-docker-image-layers" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h1>
<p>In my previous post <a href="./getting-started-with-docker" class="internal alias" data-slug="blogs/tech/docker/getting-started-with-docker">Getting started with docker</a>, I explained the basics of docker. In this post, we will be deep diving into docker image layers. We will be covering the following topics in this post,</p>
<ol>
<li>What are docker image layers?</li>
<li>Why does knowing docker image layers matter?</li>
<li>Where do these intermediary images reside and how to see them?</li>
<li>What are the constituents of a docker container size?</li>
</ol>
<p>Are you ready? Yes! So lets start</p>
<h2 id="what-are-docker-image-layers">What are docker image layers?<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#what-are-docker-image-layers" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>When we build a docker image using <code>Dockerfile</code>, you must have seen the logs on the terminal console. There you must have seen some <code>sha IDs</code> that it shows. Those <code>sha IDs</code> are nothing but intermediary image layers IDs.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"></span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -f</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Dockerfile.new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/test-image</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      (base)</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  7.168kB</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alpine</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">da7260331371</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> COPY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./app.sh</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">198fdf85c15b</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.sh</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cf5c357a3254</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Removing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> intermediate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cf5c357a3254</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">8e758ee45de3</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ENTRYPOINT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./app.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 857700b4b452</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Removing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> intermediate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 857700b4b452</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">4d85107b2c59</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> built</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4d85107b2c59</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tagged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/test-image:latest</span></span></code></pre></figure>
<p>A docker image is made up of several docker image layers. Each of the commands in <code>Dockerfile</code> stacks up a new image layer on top of the previous one.</p>
<blockquote>
<p>Note: Commands in <code>Dockerfile</code> are those instructions which do some changes in the file system. Any change made in the file system creates a new image layer. So, commands are responsible for the creation of a new image layer.
For example, <code>COPY</code>, <code>RUN</code>, etc are commands.</p>
</blockquote>
<p>The following image shows the docker image layers having ID and their corresponding parent layer ID.</p>
<p><img src="./assest/docker-image-layers.png" alt="Docker-image-layers" title="Docker image layers"/></p>
<blockquote>
<p>Note: Each of the layers coming on top of the existing one depends on their parent layer. Changing the sequence may altogether change the final image. Caching of image layers also depends upon this (upcoming sections).</p>
</blockquote>
<h3 id="rw-image-layers">R/W image layers<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#rw-image-layers" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>An image layer can be read-only or read and write. All the intermediate image layers are read-only. One cant create a file in any of those layers. If anyone of you has worked on docker must be thinking, <code>bitPhile</code> is saying wrong as we can create files in running docker container.</p>
<p>Your concern is right. We can create files in the docker container. The reason behind this is <code>Container Layer</code> which is explained in the next section.</p>
<h3 id="container-layer">Container Layer<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#container-layer" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>When an image is turned into a container, a new thin layer is stacked on top of the layers. This thin layer is called <strong>container layer</strong>. This image layer has both Read and Write access. All other image layers beneath this can only be read.</p>
<p><img src="./assest/container-layer.jpeg" alt="thin-container-layer" title="Container Layer"/>
Source: <a href="https://docs.docker.com/storage/storagedriver/images/container-layers.jpg" class="external">https://docs.docker.com/storage/storagedriver/images/container-layers.jpg<svg aria-hidden="true" class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></p>
<h2 id="why-does-knowing-image-layers-matter">Why does knowing Image Layers matter?<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#why-does-knowing-image-layers-matter" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>There are several reasons why one should know about docker image layers. A few of them are described below.</p>
<h3 id="image-size">Image Size<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#image-size" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>An image is a pack of all dependencies, libraries, and src code required for an application. These images are stored on cloud registries and shared across devices. Size becomes a foremost requirement for an image.</p>
<p>Image layers size consititute into the size of the final image. Identifying which layer is adding more size can help the developer to find areas of concern.</p>
<h3 id="layers-are-cached">Layers are Cached<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#layers-are-cached" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>Image layers are stored on the host machine for future builds. This helps build docker images faster.</p>
<p>Lets see an example. Consider two Dockerfiles, <code>Dockerfile.new-1</code> and <code>Dockerfile.new-2</code>.</p>
<p><code>Dockerfile.new-1</code></p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Dockerfile" data-theme="github-light github-dark"><code data-language="Dockerfile" data-theme="github-light github-dark" style="display:grid;"><span data-line><span># syntax=docker/dockerfile:1</span></span>
<span data-line><span>FROM bitphile/my-base-image</span></span>
<span data-line> </span>
<span data-line><span>COPY app.sh ./app.sh</span></span>
<span data-line> </span>
<span data-line><span>RUN chmod +x app.sh</span></span>
<span data-line> </span>
<span data-line><span>ENTRYPOINT [&quot;./app.sh&quot;]</span></span></code></pre></figure>
<p><code>Dockerfile.new-2</code></p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="Dockerfile" data-theme="github-light github-dark"><code data-language="Dockerfile" data-theme="github-light github-dark" style="display:grid;"><span data-line><span># syntax=docker/dockerfile:1</span></span>
<span data-line> </span>
<span data-line><span>FROM bitphile/my-base-image</span></span>
<span data-line> </span>
<span data-line><span>COPY app.sh ./app.sh</span></span></code></pre></figure>
<p>Building the first image, the consoles show,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  7.168kB</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/my-base-image</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">da7260331379</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> COPY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./app.sh</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">198fdf85c15b</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> RUN</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.sh</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cf5c357a3254</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Removing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> intermediate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cf5c357a3254</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">8e758ee45de3</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4/4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ENTRYPOINT</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;./app.sh&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Running</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> in</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 857700b4b452</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Removing</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> intermediate</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 857700b4b452</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">4d85107b2c59</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> built</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4d85107b2c59</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tagged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/my-new-image:latest</span></span></code></pre></figure>
<p>The second, it shows,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Sending</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> build</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> context</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> daemon</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  8.192kB</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1/2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> FROM</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/my-base-image</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">da7260331379</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Step</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2/2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> :</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> COPY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ./app.sh</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">Using</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cache</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> ---</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">> </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">198fdf85c15b</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> built</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 198fdf85c15b</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Successfully</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tagged</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/my-new-image-2:latest</span></span></code></pre></figure>
<p>We can see it uses caches for the second build. This increases the speed of building the image. Interesting, right?</p>
<blockquote>
<p>Note: If any instruction changes, caches are not used for the next instructions. New image layers are created for them from the scratch. Why does this happen? Think about it!</p>
</blockquote>
<h2 id="seeing-image-layers">Seeing Image Layers<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#seeing-image-layers" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Once the final image is built, we can see intermediary image layers by,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">image-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">></span></span></code></pre></figure>
<p>So, by running the above commands,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> history</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bitphile/my-new-image</span></span></code></pre></figure>
<p>Gives the output,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          CREATED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          CREATED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> BY</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                      SIZE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      COMMENT</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">4d85107b2c59</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   50</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minutes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /bin/sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #(nop)  ENTRYPOINT [&quot;./app.sh&quot;]      0B</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">8e758ee45de3</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   50</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minutes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /bin/sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> chmod</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> +x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> app.sh</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      33B</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">198fdf85c15b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   50</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> minutes</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   /bin/sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #(nop) COPY file:1179990b720068e4   33B</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">da7260331379</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hours</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      /bin/sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> apk</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --no-cache</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bash</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">              2.24MB</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">b2aa39c304c2</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> weeks</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      /bin/sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #(nop)  CMD [&quot;/bin/sh&quot;]              0B</span></span>
<span data-line><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">missing</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">></span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      3 weeks ago      /bin/sh -c </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#(nop) ADD file:40887ab7c06977737   7.05MB</span></span>
<span data-line> </span></code></pre></figure>
<p>This shows the intermediate image ID, Dockerfile instruction, and size.</p>
<blockquote>
<p>Note: <code>&lt;missing></code> indicates that a particular image is built on a different machine or using <a href="https://docs.docker.com/build/buildkit/" class="external"><code>builtKit</code><svg aria-hidden="true" class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a> docker builder.</p>
</blockquote>
<h3 id="image-layers-on-machine">Image Layers on Machine<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#image-layers-on-machine" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h3>
<p>We can find these image layers on the host machine at location <code>/var/lib/docker</code>. If you are using a virtual machine to run a docker daemon, ssh into that machine and access this location.</p>
<p>Listing the contents of <code>/var/lib/docker</code> gives,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx--x--x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> buildkit</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx--x--x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containerd</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx--x---</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  20</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 05:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> containers</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Dec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2021</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> image</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwxr-x---</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   3</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> network</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx--x---</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 173</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  24K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 05:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> overlay2</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> plugins</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 02:42</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> runtimes</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> swarm</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 06:21</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> tmp</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:14</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> trust</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">drwx-----x</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">   6</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.0K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 02:42</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> volumes</span></span></code></pre></figure>
<p>We can find these images in <code>images/&lt;storage-driver-name>/imagedb/content/sha25</code>. In my case, <code>overlay2</code> is storage driver. Refer my post <a href="./docker-storage-driver" class="internal alias" data-slug="blogs/tech/docker/docker-storage-driver">Storage Driver</a>.</p>
<p>Listing content of <code>images/overlay2/imagedb/content/sha25</code>, we see,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.9K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 05:10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 08bd868662db2cd09a4c7b8e74dad6a9c8fe186964ff31c65d335299d1324ff3</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.9K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 05:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 198fdf85c15b292a5fff554f3afc26fd1824413822ddd75e72f08937889f1770</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2.2K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 05:11</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1d17f325c607e937d89b19de66287aad351fc1abb80bc36591d34b7457ff8316</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 1.7K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Dec</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 16</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  2021</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 25f8c7f3da61c2a810effe5fa779cf80ca171afb0adf94c7cb51eb9a8546629d</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  16K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 12:49</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2bc7edbc3cf2fce630a95d0586c48cd248e5df37df5b1244728a5c8c91becfe0</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2.4K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:51</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2f6974482449313e863b0b709841b50da40ce7ef32017f0279671e9b2ee47289</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  11K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 06:10</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 31d22a1554dfca7ad9377b67974ae2e0e3282247fc40fbf2ac3c380102ae772f</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 4.4K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Mar</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 05:26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 3c3a210148bab6bc3faedba72ad7de5e58a7cdb6bba0847965211f47fe1c4c21</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">-rw-------</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 2.1K</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Feb</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 26</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 09:35</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> da7260331379a532a15cf3e9bff522627b1574a9ce21bb06c92cea74992613fa</span></span></code></pre></figure>
<p>As you can see <code>da7260331379</code> is used as a cache to build the image.</p>
<h2 id="docker-container-size">Docker Container Size<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#docker-container-size" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>There are two things, <code>size</code> and <code>virtual size</code>.</p>
<ul>
<li><code>size</code> is the size of <code>container layer</code>. It comprises of all the files that are written <code>container layer</code>.</li>
</ul>
<ul>
<li><code>virtual size</code> is the sum of <code>size</code> and data of read-only intermediate image layers. If two containers have the same read-only intermediate image layers, will share the same data with separate <code>container layer</code> data.</li>
</ul>
<p>For example,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CONTAINER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                          COMMAND</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  CREATED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">         STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   PORTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  NAMES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                         SIZE</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">7937d5f33e6e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   bitphile/my-new-image-2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                        &quot;./app.sh&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">               5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                    bitphile-test-container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                       0B</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (virtual </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">9.29MB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<p>shows container <code>bitphile-test-container</code> has <code>0B</code> <code>size</code> and <code>9.29MB</code> <code>virtual size</code>. If you see the size of the whole image itself is <code>9.29MB</code> which means it is all size of read-only image layer data.</p>
<p>Now, adding a new file into the running container should increase the <code>size</code>.</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">docker</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exec</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 7937d5f33e6e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;echo hello world > file.txt&quot;</span></span></code></pre></figure>
<p>Now if we see the same container,</p>
<figure data-rehype-pretty-code-figure><pre tabindex="0" data-language="shell" data-theme="github-light github-dark"><code data-language="shell" data-theme="github-light github-dark" style="display:grid;"><span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">CONTAINER</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ID</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   IMAGE</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                          COMMAND</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  CREATED</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          STATUS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   PORTS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                  NAMES</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                                         SIZE</span></span>
<span data-line><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">7937d5f33e6e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   bitphile/my-new-image-2</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                        &quot;./app.sh&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">               39</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ago</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   Up</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 39</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> seconds</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                   bitphile-test-container</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                                                                                       11B</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (virtual </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">9.29MB</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span></code></pre></figure>
<p>got <code>11B</code> of <code>size</code>.</p>
<p>So, this is it for now. Its great that you come reading till here. I will see you in my next post on docker. Till then,</p>
<p><img src="../../bye-mr-bean.gif" alt="Bye by Mr Bean" title="Bye bye, see you on next post"/></p>
<h2 id="references">References<a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#references" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ol>
<li><a href="https://docs.docker.com/storage/storagedriver/#the-copy-on-write-cow-strategy" class="external">Storage Drivers <svg aria-hidden="true" class="external-icon" viewBox="0 0 512 512"><path d="M320 0H288V64h32 82.7L201.4 265.4 178.7 288 224 333.3l22.6-22.6L448 109.3V192v32h64V192 32 0H480 320zM32 32H0V64 480v32H32 456h32V480 352 320H424v32 96H64V96h96 32V32H160 32z"></path></svg></a></li>
</ol></article><hr/><div class="page-footer"></div></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><button id="global-graph-icon" aria-label="Global Graph"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
                s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
                c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
                C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
                c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
                v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
                s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
                C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
                S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
                s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
                s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></button></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class aria-controls="toc-content" aria-expanded="true"><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content" class><ul class="overflow"><li class="depth-0"><a href="#deep-dive-into-docker-image-layers" data-for="deep-dive-into-docker-image-layers">Deep dive into Docker Image Layers</a></li><li class="depth-1"><a href="#what-are-docker-image-layers" data-for="what-are-docker-image-layers">What are docker image layers?</a></li><li class="depth-2"><a href="#rw-image-layers" data-for="rw-image-layers">R/W image layers</a></li><li class="depth-2"><a href="#container-layer" data-for="container-layer">Container Layer</a></li><li class="depth-1"><a href="#why-does-knowing-image-layers-matter" data-for="why-does-knowing-image-layers-matter">Why does knowing Image Layers matter?</a></li><li class="depth-2"><a href="#image-size" data-for="image-size">Image Size</a></li><li class="depth-2"><a href="#layers-are-cached" data-for="layers-are-cached">Layers are Cached</a></li><li class="depth-1"><a href="#seeing-image-layers" data-for="seeing-image-layers">Seeing Image Layers</a></li><li class="depth-2"><a href="#image-layers-on-machine" data-for="image-layers-on-machine">Image Layers on Machine</a></li><li class="depth-1"><a href="#docker-container-size" data-for="docker-container-size">Docker Container Size</a></li><li class="depth-1"><a href="#references" data-for="references">References</a></li></ul></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li><a href="../../../blogs/tech/docker/docker-volume" class="internal">Docker Volume</a></li><li><a href="../../../blogs/tech/docker/getting-started-with-docker" class="internal">Getting Started With Docker</a></li></ul></div></div></div><footer class><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.3.1</a>  2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script type="module">
          let mermaidImport = undefined
          document.addEventListener('nav', async () => {
            if (document.querySelector("code.mermaid")) {
              mermaidImport ||= await import('https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs')
              const mermaid = mermaidImport.default
              const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
              mermaid.initialize({
                startOnLoad: false,
                securityLevel: 'loose',
                theme: darkMode ? 'dark' : 'default'
              })

              await mermaid.run({
                querySelector: '.mermaid'
              })
            }
          });
          </script><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script src="../../../postscript.js" type="module"></script></html>